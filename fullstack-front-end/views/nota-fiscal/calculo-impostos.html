<div id="panelCalculo" class="content" ng-controller="impostosController">
	<div class="panel panel-primary">
		<div class="panel-heading">
			<span class="fa fa-calculator"></span>&nbsp;&nbsp;Cálculo de Impostos
		</div>
		<div class="panel-body">
			<form name="calculaImpostoForm" class="form-group">
				<div class="form-group" ng-init="findClientes()">
					<label for="clienteImposto">Cliente</label> 
						<select ng-model="dadosImpostos.codCliente" ng-change="onSelectCliente(dadosImpostos.codCliente)" ng-required="true" ng-disabled="clientes.length < 1" ng-options="cliente.idCliente as cliente.nomeRazaoSocial for cliente in clientes" class="form-control" id="clienteImposto">
						<option value="">-Selecione-</option>
					</select>
				</div>
				
				<div class="form-group">
					<label for="dtBaseImposto">Período</label>
					<div class="input-group date" ng-month-year-picker>
						<input ng-model="dadosImpostos.yearMonth" ng-change="onChangeMonthYear(dadosImpostos.yearMonth)" ng-required="true" id="dtBaseImposto" type="text" class="form-control" /> 
						<span class="input-group-addon"> 
							<i class="fa fa-calendar"></i>
						</span>
					</div>
				</div>
				
				<div class="text-right">
					<button id="resetNotaFiscal" type="button" class="btn btn-default" ng-click="cancel()">
						Cancelar&nbsp;&nbsp;<span class="fa fa-ban" aria-hidden="true"></span>
					</button>
					<button type="button" class="btn btn-success" ng-disabled="calculaImpostoForm.$invalid" ng-click="calcularImpostos(dadosImpostos)">
						Calcular&nbsp;&nbsp;<span class="fa fa-calculator" aria-hidden="true"></span>
					</button>
				</div>
			</form>
		</div>
	</div>
	<div ng-show="impostos.length > 0">
		<div class="table-responsive" >
			<table class="table table-condensed table-hover" ng-init="findByCodCliente(dadosImpostos.codCliente)">
				<thead>
					<th>Cliente</th>
					<th>Período</th>
					<th>Tipo Tributo</th>
					<th>(R$)Valor</th>
					<th>Pago</th>
				</thead>
				<tbody>
					<tr ng-repeat="imposto in impostos">
						<td>{{imposto.clienteDTO.nomeRazaoSocial}}</td>
						<td>{{imposto.yearMonth}}</td>
						<td>{{imposto.tributoDTO.descricaoTributo}}</td>
						<td>{{imposto.valorImposto}}</td>
						<td>{{imposto.statusPagamento}}</td>
<!-- 						<td class="text-center"> -->
<!-- 							<button class="btn btn-sm btn-info" ng-click="loadForm(imposto.numNotaFiscal)"> -->
<!-- 								Editar&nbsp;&nbsp;<span class="fa fa-edit" aria-hidden="true"></span> -->
<!-- 							</button> -->
<!-- 							<button class="btn btn-sm btn-danger" ng-click="remove(imposto.numNotaFiscal)"> -->
<!-- 								Excluir&nbsp;&nbsp;<span class="fa fa-remove" aria-hidden="true"></span> -->
<!-- 							</button> -->
<!-- 						</td> -->
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>